<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"/>
	<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	<title>Macro example!</title>
</head>
<body>
	<SET z="" x="2" y="x + 1" _pi="pi" />
	
	<!-- Call tests -->
	<CALL NAME="title" />
	<h2 CALL="subtitle"></h2>
	
	<!-- Branching test -->
	<IF TRUE="x+1 <= y">
		<INFO>passed with x={x} and y={y}</INFO>
	</IF>
	<ELSE>
		<INFO>failed with x={x} and y={y}</INFO>
	</ELSE>
	
	<!-- Attr conditional test -->
	<WARN IF="z == 0">z not set</WARN>
	<p IF="z">z-index of page is {z}</p>
	<p IF="!z">z-index of page is missing!</p>
	
	<!-- Shell tests -->
	<p>
		<SHELL VARS="x,y">echo -n "$x * $y == $((x * y))"</SHELL>
	</p>
	<SHELL VARS="x,y" STDOUT="z">echo "$((x * y))"</SHELL>
	<SHELL VARS="x,y" STDOUT="HTML">echo -n '<span CALL="print-z"></span>'</SHELL>
	
	<!-- Loop tests -->
	<ul>
		<FOR i="0" TRUE="i <= 2" i="i+1">
			<li>Item: {i}</li>
		</FOR>
		<WHILE TRUE="i < 5">
			<li>Item: {i}</li>
			<SET i="i+1" />
		</WHILE>
	</ul>
	
</body>
</html>

<MACRO NAME="title">
	<h1 data-value="{x*2}">This is a page!</h1>
</MACRO>

<MACRO NAME="subtitle">Pages {x} and {y + 0.1}</MACRO>

<MACRO NAME="print-z">new z index is {int(z)}</MACRO>

