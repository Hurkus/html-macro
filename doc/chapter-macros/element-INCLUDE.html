<MACRO NAME="a-INCLUDE">
	<SET-ATTR href="#INCLUDE"/>
	<SET-ATTR title="Includes contents of another file."/>
</MACRO>
<MACRO NAME="a-INCLUDE-HTML">
	<SET-ATTR href="#INCLUDE-HTML"/>
	<SET-ATTR title="Includes an HTML (.html) file as a macro."/>
</MACRO>
<MACRO NAME="a-INCLUDE-CSS">
	<SET-ATTR href="#INCLUDE-CSS"/>
	<SET-ATTR title="Includes a CSS (.css) file."/>
</MACRO>
<MACRO NAME="a-INCLUDE-JS">
	<SET-ATTR href="#INCLUDE-JS"/>
	<SET-ATTR title="Includes a JavaScript (.js) file."/>
</MACRO>
<MACRO NAME="a-INCLUDE-TXT">
	<SET-ATTR href="#INCLUDE-TXT"/>
	<SET-ATTR title="Includes file as plain text."/>
</MACRO>


<div id="INCLUDE" class="macro box" IF='!header'>
	<h4 class="code">{l}INCLUDE/{r}</h4>
	<p>Includes contents of another file.</p>
	<x-line></x-line>
	<p>
		Must be in the form of <code>{l}INCLUDE SRC="[path]"/{r}</code>, where:
		<ul>
			<li>
				<code>[path]</code> represents the path of the new file relative to the current file.
			</li>
		</ul>
	</p>
	<br/>
	<style>
		#INCLUDE.macro ul.file-types li {
			padding-top: 7px;
		}
	</style>
	<p>
		Parsing of the included file depends on the file type, which is determined from the file extension.
		If the file type is ambiguous, it can be forced with a specialised <code>{l}INCLUDE-[type]{r}</code> macros:
		<ul class="file-types">
			<li id="INCLUDE-HTML">
				<code>{l}INCLUDE-HTML/{r}</code> for <em>.html</em> files.<br/>
				The file is parsed as an HTML macro, i.e. the root element is invoked as a macro after parsing.<br/>
				All <a CALL="a-MACRO">{l}MACRO{r}</a> elements are added to the global list of defined macros (overwriting existing ones).
			</li>
			<li id="INCLUDE-CSS">
				<code>{l}INCLUDE-CSS/{r}</code> for style <em>.css</em> files.<br/>
				The file is processed for any CSS expressions.<br/>
				<span style="color:hsl(0, 100%, 30%);">The attribute version of this macro is more usefull, as it allowes wrapping the content in <code>{l}style{r}{l}/style{r}</code> tags.</span><br/>
				May be subjected to optimizations in future versions.
			</li>
			<li id="INCLUDE-JS">
				<code>{l}INCLUDE-JS/{r}</code> for JavaScript <em>.js</em> files.<br/>
				Mainly untouched; handled as plain text.<br/>
				<span style="color:hsl(0, 100%, 30%);">The attribute version of this macro is more usefull, as it allowes wrapping the content in <code>{l}script{r}{l}/script{r}</code> tags.</span><br/>
				May be subjected to optimizations in future versions.
			</li>
			<li id="INCLUDE-TXT">
				<code>{l}INCLUDE-TXT/{r}</code> for plain text files.<br/>
				Untouched and coppied to the final document.
			</li>
		</ul>
	</p>
	<br/>
	<p>
		Every included file is cached which means that parsing is done only once per file.<br/>
		The same file can be included multiple times which means that the user must prevent infinitely recursive includes.
	</p>
	<br/>
	<p>See also:
		<a CALL="a-CALL">{l}CALL{r}</a>
	</p>
	<br/>
	<p>
		Other attributes:
		<ul>
			<li CALL="common-IF-after"></li>
			<li CALL="common-ELIF-after"></li>
			<li CALL="common-ELSE-after"></li>
		</ul>
	</p>
	<x-line></x-line>
	<div class="example">
		<h4><b>Example</b></h4>
		<table>
			<tr>
				<th>header.html</th>
			</tr>
			<tr>
				<td class="code" style="color: hsl(0, 60%, 40%);">
					{l}style{r}<br/>
					{t}#header {<br/>
						{t*2}color: red;<br/>
					{t}}<br/>
					{l}/style{r}<br/>
					{l}div id="header"{r}<br/>
					{t}{l}h1{r}Yet another <span title="Insert content of variable name">\{name}</span>{l}/h1{r}<br/>
					{l}/div{r}
				</td>
			</tr>
			<tr>
				<th>footer.html</th>
			</tr>
			<tr>
				<td class="code" style="color: hsl(100, 50%, 20%);">
					{l}div id="footer"{r}<br/>
						{t}{l}p{r}Contacts: none{l}/p{r}<br/>
						{t}{l}p{r}Last edited on: 14/10/2025{l}/p{r}<br/>
					{l}/div{r}
				</td>
			</tr>
			<tr>
				<th>input</th>
				<th>output</th>
			</tr>
			<tr>
				<td class="code">
					{l}<a CALL="a-SET">SET</a> <span title="Set variable name to 'cookbook'">name="cookbook"</span>/{r}<br/>
					{l}body{r}<br/>
					{t}{l}<a CALL="a-INCLUDE">INCLUDE</a> <span title="Path to the file is relative to the current file.">SRC="header.html"</span>/{r}<br/>
					{t}{l}p{r}Amazing content!{l}/p{r}<br/>
					{t}{l}<a CALL="a-INCLUDE">INCLUDE</a> <span title="Path to the file is relative to the current file.">SRC="footer.html"</span>/{r}<br/>
					{l}/body{r}
				</td>
				<td class="code">
					<span title="Content from the main file">
						{l}body{r}<br/>
					</span>
					<span style="color: hsl(0, 60%, 40%);" title="Content from header.html">
							{t}{l}style{r}<br/>
							{t}{t}#header {<br/>
								{t}{t*2}color: red;<br/>
							{t}{t}}<br/>
							{t}{l}/style{r}<br/>
							{t}{l}div id="header"{r}<br/>
								{t*2}{l}h1{r}Yet another cookbook{l}/h1{r}<br/>
							{t}{l}/div{r}<br/>
					</span>
					<span title="Content from the main file">
							{t}{l}p{r}Amazing content!{l}/p{r}<br/>
					</span>
					<span style="color: hsl(100, 50%, 20%);" title="Content from footer.html">
							{t}{l}div id="footer"{r}<br/>
								{t*2}{l}p{r}Contacts: none{l}/p{r}<br/>
								{t*2}{l}p{r}Last edited on: 14/10/2025{l}/p{r}<br/>
							{t}{l}/div{r}<br/>
					</span>
					<span title="Content from the main file">
						{l}/body{r}
					</span>
				</td>
			</tr>
		</table>
	</div>
</div>